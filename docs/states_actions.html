<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">

    <title>UoService</title>

    <!-- Bootstrap core CSS -->
    <link href="https://getbootstrap.com/docs/4.1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/tmp.css" rel="stylesheet">
    <script src="js/scripts.js"></script>

    <script src="js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
  </head>

  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="https://github.com/kimbring2/uoservice">GitHub</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="index.html">Home<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item active">
            <a class="nav-link" href="states_actions.html">States/Actions<span class="sr-only"></span></a>
            </li>
            <li class="nav-item active">
            <a class="nav-link" href="tutorial_replay.html">Replay<span class="sr-only"></span></a>
            </li>
        </ul>
        </div>
    </nav>
    
<main role="main" class="container-fluid">
    <div class="starter-template">
        <h1>States/Actions</h1>
    </div>
    <div class="starter-template">
        <h1>Data Type</h1>
        <p style="text-align:left; font-size:18px;">Ultima Online is high level complex game consist of various components. Therefore, it is not possible to implement the current state recognized by the player only with basic data such as string, int, and float. Furthermore, action representation also requires a more complex form than basic data because the game basically receives action input from the mouse.
        </p>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col" id="1">
                <script>createHeader("1", "GrpcItemData", "");</script>
                This data type is usually used to store the item of backpack, equipped by player, corpse of monster. Note that, this is the simpler than GrpcGameObjectData data type. 
                <img src="Fig/Item.png" class="rounded mx-auto d-block float-center" alt="Logo" width="220" height="130">
                <script>
                    generate_table("1", 
                                    [
                                        ["name", "string", "name of item"], 
                                        ["layer", "uint32", "which layer the item is included"],
                                        ["serial", "uint32", "unique serial number of item"],
                                        ["amount", "uint32", "The number of item if it can be stacked"]
                                    ]
                                    );
                </script>
            </div>

            <div class="col" id="2">
                <script>createHeader("2", "GrpcSkill", "");</script>
                <img src="Fig/Skill.png" class="rounded mx-auto d-block float-center" alt="Logo" width="350" height="300">
                <script>
                    generate_table("2", 
                                    [
                                        ["name", "string", "name of skill"], 
                                        ["index", "uint32", "unique index numer of skill"],
                                        ["isClickable", "bool", "whether the skill can be activated by clicking"],
                                        ["value", "uint32", "current skill level"],
                                        ["base", "uint32", "base skill level"],
                                        ["cap", "uint32", "maximum value of skill can be increased"],
                                        ["lock", "uint32", "skill can be increased if this value is 0"]
                                    ]
                                    );
                </script>
            </div>
        </div>

        <div class="row">
            <div class="col" id="3">
                <script>createHeader("3", "GrpcPlayerStatus", "");</script>
                <img src="Fig/Status.png" class="rounded mx-auto d-block float-center" alt="Logo" width="420" height="150">
                <script>
                    generate_table("3", 
                                    [
                                        ["str", "uint32", "strenthg of player"], 
                                        ["dex", "uint32", "dexterity of player"],
                                        ["intell", "uint32", "intelligence of player"],
                                        ["hits", "uint32", "current hp of player"],
                                        ["hitsMax", "uint32", "maximum value of HP of player"], 
                                        ["stamina", "uint32", "stamina of player"],
                                        ["staminaMax", "uint32", "maximum value of stamina of player"],
                                        ["mana", "uint32", "mana of player"],
                                        ["manaMax", "uint32", "maximum value of mana of player"], 
                                        ["gold", "uint32", "gold the player currently has"],
                                        ["physicalResistance", "uint32", "the physical resistance of player"],
                                        ["weightMax", "uint32", "maximum value of weight of player"],
                                        ["holdItemSerial", "uint32", "serial of item what player current is holding"]
                                    ]
                                    );
                </script>
            </div>

            <div class="col" id="4">
                <script>createHeader("4", "GrpcGameObjectData", "");</script>
                This includes the every object of game such as item, mobile, tree, rock, etc. This information can be used to find the obstacls that can block the movement of player on the screen.
                <img src="Fig/GameObject.png" class="rounded mx-auto d-block float-center" alt="Logo" width="600" height="130">
                <script>
                    generate_table("4", 
                                    [
                                        ["type", "string", "type of object"], 
                                        ["screenX", "uint32", "x position of mobile in the game screen"],
                                        ["screenY", "uint32", "y position of mobile in the game screen"],
                                        ["distance", "uint32", "The distance between the player and object"],
                                        ["gameX", "uint32", "x position of mobile in the game scene"],
                                        ["gameY", "uint32", "y position of mobile in the game scene"],
                                        ["serial", "uint32", "unique serial number of object"],
                                        ["name", "string", "name of object"],
                                        ["isCorpse", "bool", "whether the object is corpse"],
                                        ["title", "string", "title of object"],
                                        ["amount", "uint32", "number of item if it can be stacked"],
                                        ["price", "uint32", "price of item when buying and selling"]
                                    ]
                                    );
                </script>
            </div>
        </div>

        <div class="row">
            <div class="col" id="5">
                <script>createHeader("5", "GrpcGameObjectSimpleData", "");</script>
                This is simplied version of the GrpcGameObjectData that is made to reduce the size of data. For specific, it can be used to save the land object around the player to drop the item.
                <img src="Fig/Land.png" class="rounded mx-auto d-block float-center" alt="Logo" width="100" height="100">
                <script>
                    generate_table("5", 
                                    [
                                        ["gameX", "uint32", "x position of mobile in the game scene"],
                                        ["gameY", "uint32", "y position of mobile in the game scene"],
                                    ]
                                    );
                </script>
            </div>

            <div class="col" id="6">
                <script>createHeader("6", "GrpcClilocData", "");</script>
                <img src="Fig/Cliloc.png" class="rounded mx-auto d-block float-center" alt="Logo" width="170" height="190">
                <script>
                    generate_table("6", 
                                    [
                                        ["serial", "uint32", "serial number of mobile who say this cliloc"],
                                        ["text", "string", "main text body of cliloc"], 
                                        ["affix", "uint32", "the part that shows the requesting gold to player"],
                                        ["name", "uint32", "name of mobile who say this cliloc"]
                                    ]
                                    );
                </script>
            </div>
        </div>

        <div class="row">
            <div class="col" id="7">
                <script>createHeader("7", "GrpcContainerData", "");</script>
                When the monster is dead, it is transformed from mobile to item type. Then, you can open the dead body of it. You can consider it as the container type. It can have the mutiple items what you can take to your backpack. This data type is for that purpose.
                <img src="Fig/Container.png" class="rounded mx-auto d-block float-center" alt="Logo" width="230" height="160">
                <script>
                    generate_table("7", 
                                    [
                                        ["container", "GrpcGameObjectData", "owner of this container"],
                                        ["containerItemList", "list of GrpcItemData", "list of items that this container hold"]
                                    ]
                                    );
                </script>
            </div>

            <div class="col" id="8">
                <script>createHeader("8", "Actions", "");</script>
                Due to the huge number of pixels, using the position of screen as action directly is really inefficient. However, we can project the any mouse input into a specific game event by using the multiple action arguments. <script>
                    generate_table("8", 
                                    [
                                        ["actionType", "uint32", "type of action"],
                                        ["itemSerial", "uint32", "unique item serial what player hold now"], 
                                        ["mobileSerial", "uint32", "unique mobile serial what player want to interact"],
                                        ["walkDirection", "uint32", "player can walk when the action type is 1. This argument is used to decide the direction of walking"],
                                        ["index", "uint32", "pop up menu has the multiple choice to select. This argument is used for that"],
                                        ["amount", "uint32", "player can move the item from one container to another container. This argument is used to set the amount of item will be moved"],
                                        ["run", "bool", "player run when moving if you set this argument as true"],
                                    ]
                                    );
                </script>
            </div>
        </div>
    </div>

    <div class="starter-template">
        <h1>States</h1>
        <p style="text-align:left; font-size:18px;">The base data type what we declare above section can be combined to represent the higher level game situation. 
        </p>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col", id="states_1">
                <script>createHeader("states_1", "EquippedItemList", "");</script>
                There are multiple part in player(Cloak, Shirt, Pants, Shoes, Legs, Arms, Torso, Tunic, Ring, Bracelet, Face, Gloves, Skirt, Robe, Waist, Necklace, Hair, Beard, Earrings, Helmet, OneHanded, TwoHanded, Talisman) where specific type of item can be equipped. This data type stores all equipped item at now.
                <img src="Fig/EquippedItem.png" class="rounded mx-auto d-block float-center" alt="Logo" width="600" height="300">
                <script>
                    generate_table("states_1", 
                                    [
                                        ["GrpcItemList", "list of GrpcItemData", "list of item what player equips now"]
                                    ]
                                    );
                </script>
            </div>

            <div class="col", id="states_2">
                <script>createHeader("states_2", "BackpackItemList", "");</script>
                Player has the main bag to hold the various items. This data type stors all items of player's backpack of now.
                <img src="Fig/Backpack.png" class="rounded mx-auto d-block float-center" alt="Logo" width="600" height="210">
                <script>
                    generate_table("states_2", 
                                    [
                                        ["GrpcItemList", "list of GrpcItemData", "list of item of player's backpack"]
                                    ]
                                    );
                </script>
            </div>
        </div>

        <div class="row">
            <div class="col", id="states_3">
                <script>createHeader("states_3", "OpenedCorpseList", "");</script>
                Opening the multiple corpse together is possible at Ultima Online. This data type can be used for that purpose. 
                <img src="Fig/Corpses.png" class="rounded mx-auto d-block float-center" alt="Logo" width="300" height="210">
                <script>
                    generate_table("states_3", 
                                    [
                                        ["GrpcContainerDataList", "list of GrpcContainerData", "list of corpse currently opened"],
                                    ]
                                    );
                </script>
            </div>

            <div class="col", id="states_4">
                <script>createHeader("states_4", "GrpcPopupMenuList", "");</script>
                <img src="Fig/PopUpMenu.png" class="rounded mx-auto d-block float-center" alt="Logo" width="170" height="250">
                <script>
                    generate_table("states_4", 
                                    [
                                        ["menus", "list of string", "list of pop up menu text"],
                                    ]
                                    );
                </script>
            </div>
        </div>

        <div class="row">
            <div class="col", id="states_5">
                <script>createHeader("states_5", "StaticObjectInfoList", "");</script>
                    This data type only stores the position of game object as list type. It is mainly used to store the Stactic object such as tree and rock that is not really important for player's decision.
                    <img src="Fig/Static.png" class="rounded mx-auto d-block float-center" alt="Logo" width="100" height="100">
                    <script>
                        generate_table("states_5", 
                                        [
                                            ["screenXs", "list of uint32", "list of x position of mobile in the game scene"],
                                            ["screenYs", "list of uint32", "list of y position of mobile in the game scene"],
                                        ]
                                        );
                </script>
            </div>

            <div class="col", id="states_6">
                <script>createHeader("states_6", "ItemDropableLandList", "");</script>
                    This data type only stores the position of game object as list type. It is mainly used to store the Stactic object such as tree and rock that is not really important for player's decision.
                    <img src="Fig/ItemDropableLand.png" class="rounded mx-auto d-block float-center" alt="Logo" width="100" height="100">
                    <script>
                        generate_table("states_6", 
                                        [
                                            ["gameSimpleObjects", "list of GrpcGameObjectSimpleData", "list of x position"],
                                        ]
                                        );
                </script>
            </div>
        </div>

        <div class="row">
            <div class="col", id="states_7">
                <script>createHeader("states_7", "ClilocDataList", "");</script>
                    The speech of NPC consists of multiple sentence even if it looks like a one sentence in game. Therefore, old cliloc text should be kept for a certain period of time(50 is default length)
                    <img src="Fig/Clilocs.png" class="rounded mx-auto d-block float-center" alt="Logo" width="600" height="130">
                    <script>
                        generate_table("states_7", 
                                        [
                                            ["GrpcClilocDataList", "list of GrpcClilocData", "list of cliloc text"]
                                        ]
                                        );
                </script>
            </div>

            <div class="col", id="states_8">
                <script>createHeader("states_8", "BankItemList", "");</script>
                It is possible to save the gold and item in bank. This state type stores the list of items when player open it.
                <img src="Fig/Bank.png" class="rounded mx-auto d-block float-center" alt="Logo" width="600" height="300">
                <script>
                    generate_table("states_8", 
                                    [
                                        ["GrpcItemList", "list of GrpcItemData", "Show the list of bank items"]
                                    ]
                                    );
                </script>
            </div>
        </div>

        <div class="starter-template">
            <h1>Actions</h1>
        </div>
        <div class="row">
            <div class="col", id="actions_1">
                <script>createHeaderAction("actions_1", "1. Do nothing", "");</script>
                <script>
                    generate_action_table("actions_1", [["0", "", "", "", "", "", ""]]);
                </script>
            </div>

            <div class="col", id="actions_2">
                <script>createHeaderAction("actions_2", "2. Walk to Direction", "-> UpRight = 0, Right = 1, DownRight = 2, Down = 3, DownLeft = 4, Left = 5, UpLeft = 6, Up = 7");</script>
                <script>
                    generate_action_table("actions_2", [["1", "", "", "0 ~ 7", "", "", "True, False"]]);
                </script>
            </div>

            <div class="col", id="actions_3">
                <script>createHeaderAction("actions_3", "3. Attack target by it's serial", "-> player must be close enough to attack the target and war mode must be True");</script>
                <script>
                    generate_action_table("actions_3", [["2", "", "target mobile serial", "", "", "", ""]]);
                </script>
            </div>

            <div class="col", id="actions_4">
                <script>createHeaderAction("actions_4", "4. Pick up the amount of item by it's serial", "");</script>
                <script>
                    generate_action_table("actions_4", [["3", "target item serial", "", "", "", "amount of item to be picked", ""]]);
                </script>
            </div>

            <div class="col", id="actions_5">
                <script>createHeaderAction("actions_5", "5. Drop the holded item into my backpack", "-> Backpack serial will be provided automatically inside of CSharp");</script>
                <script>
                    generate_action_table("actions_5", [["4", "", "", "", "", "", ""]]);
                </script>
            </div>

            <div class="col", id="actions_6">
                <script>createHeaderAction("actions_6", "6. Drop the holded item on land around the player", "-> This will drop item one of possible droppable land");</script>
                <script> generate_action_table("actions_6", [["5", "holded item serial", "", "", "", "", ""]]);</script>
            </div>

            <div class="col", id="actions_7">
                <script>createHeaderAction("actions_7", "7. Equip the holded item", "-> Player should pick up the item before this action");</script>
                <script>
                    generate_action_table("actions_7", [["6", "", "", "", "", "", ""]]);
                </script>
            </div>

            <div class="col", id="actions_8">
                <script>createHeaderAction("actions_8", "8. Open the corpse by it's serial", "-> Mobile become the item type after dying. Thus, itemSerial argument should be used");</script>
                <script>
                    generate_action_table("actions_8", [["7", "corpse item serial", "", "", "", "", ""]]);
                </script>
            </div>

            <div class="col", id="actions_20">
                <script>createHeaderAction("actions_20", "20. Change the war mode", "-> War mode change according to the index argument. 1 is for active");</script>
                <script>
                    generate_action_table("actions_20", [["19", "", "", "", "0, 1", "", ""]]);
                </script>
            </div>
        </div>
    </div><!-- /.container -->
</main>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="https://getbootstrap.com/docs/4.1/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="https://getbootstrap.com/docs/4.1/assets/js/vendor/popper.min.js"></script>
<script src="https://getbootstrap.com/docs/4.1/dist/js/bootstrap.min.js"></script>
</body>
</html>